네, 그럼요. 관리감독자의 점검뿐만 아니라, 당일 작업에 참여하는 **모든 작업자의 확인 서명을 받아야 하는 요구사항**을 해결할 수 있는 가장 효율적이고 좋은 방법을 제안해 드리겠습니다.

이는 안전 책임 소재를 명확히 하고 TBM(Tool Box Meeting) 참여 확인을 위해 매우 중요한 기능입니다. 현장에서 태블릿 하나로 여러 명의 서명을 받는 상황을 가정하고 가장 현실적인 방법을 정리했습니다.

### **가장 효율적인 방법: 단일 기기에서 순차적 서명**

하나의 태블릿(또는 노트북)을 작업자들이 돌아가며 서명하는 방식입니다. UI/UX 흐름을 명확하게 설계하는 것이 핵심입니다.

#### **구현 흐름 (Workflow)**

1. **[관리감독자] 점검표 작성:** 기존 방식대로 관리감독자가 로그인하여 해당 팀의 일일 안전점검표를 모두 작성합니다.
    
2. **[관리감독자] '작업자 확인' 단계로 이동:** 점검표 작성이 완료되면, '작업자 확인' 또는 'TBM 참여자 서명' 버튼을 누릅니다.
    
3. **[시스템] 작업자 목록 표시:** 화면에 해당 팀에 소속된 모든 작업자의 이름 목록이 표시됩니다. 아직 서명하지 않은 상태로 나타납니다. (예: `홍길동 [서명 대기]`)
    
4. **[작업자] 본인 이름 선택 및 서명:**
    
    - 첫 번째 작업자가 태블릿을 받아 목록에서 **자신의 이름**을 터치합니다.
        
    - 이름, 사번 등이 표시된 **서명 전용 팝업(Pop-up) 창**이 나타납니다.
        
    - 작업자는 팝업 창 안의 서명란에 서명하고 '확인' 버튼을 누릅니다.
        
5. **[시스템] 서명 완료 처리:**
    
    - 해당 작업자의 서명은 즉시 시스템에 저장됩니다.
        
    - 팝업 창은 닫히고, 이전의 작업자 목록에서 해당 작업자의 상태가 변경됩니다. (예: `홍길동 [서명 완료 ✔️]`)
        
6. **[작업자] 다음 작업자에게 전달:** 태블릿을 다음 작업자에게 넘겨 4~5번 과정을 모든 작업자가 완료할 때까지 반복합니다.
    
7. **[관리감독자] 최종 제출:** 모든 작업자의 서명이 완료된 것을 확인한 후, 관리감독자가 최종 '제출' 버튼을 눌러 일일 점검을 마칩니다.
    

흐름 요약:

점검표 작성 → 작업자 확인 시작 → 작업자 목록 표시 → (이름 선택 → 서명 → 저장) 반복 → 최종 제출

---

### **기술적 구현 방안**

위의 흐름을 구현하기 위해 데이터베이스와 프론트엔드를 아래와 같이 수정/보완해야 합니다.

#### **1. 데이터베이스(DB) 스키마 변경**

기존에는 보고서(`DailyReports`) 하나에 서명(`SignatureImage`)이 하나만 있었습니다. 이제 **하나의 보고서에 여러 개의 서명**이 연결되어야 하므로, 서명만 따로 관리하는 테이블을 추가합니다.

- ReportSignatures 테이블 (신규 생성)
    
    이 테이블은 어떤 보고서에, 어떤 작업자가, 언제 서명했는지를 기록합니다.
    
    SQL
    
    ```
    CREATE TABLE ReportSignatures (
        SignatureID INT PRIMARY KEY IDENTITY(1,1),
        ReportID INT FOREIGN KEY REFERENCES DailyReports(ReportID) NOT NULL, -- 어느 보고서에 대한 서명인지 연결
        UserID INT FOREIGN KEY REFERENCES Users(UserID) NOT NULL,             -- 어떤 사용자가 서명했는지 연결
        SignatureImage VARBINARY(MAX) NOT NULL,                               -- 서명 이미지 데이터
        SignedAt DATETIME DEFAULT GETDATE()                                   -- 서명한 시간
    );
    ```
    
    - 이렇게 설계하면 `DailyReports` 테이블에서는 관리감독자의 최종 서명만 관리하거나, 아예 서명 필드를 없애고 관리감독자의 서명도 `ReportSignatures` 테이블에 기록할 수 있습니다.
        

#### **2. 프론트엔드(React) 구현 아이디어**

- **작업자 목록 컴포넌트 (`<WorkerSignatureList />`)**:
    
    - 팀에 소속된 작업자 목록을 API를 통해 불러옵니다. (`GET /api/teams/{teamId}/users`)
        
    - 각 작업자의 이름과 서명 상태(`서명 대기`, `서명 완료`)를 state로 관리합니다.
        
- **서명 팝업 컴포넌트 (`<SignatureModal />`)**:
    
    - 작업자가 이름을 클릭하면 이 팝업이 열립니다.
        
    - 팝업에는 서명할 작업자의 이름이 명확하게 표시되어야 합니다. (예: "**홍길동 님, 서명해주세요.**")
        
    - 서명 후 '확인' 버튼을 누르면, 서명 데이터를 백엔드 API(`POST /api/reports/{reportId}/signatures`)로 전송하고 성공 시 팝업을 닫습니다.
        

---

### **또 다른 방법: QR 코드 활용 (고급)**

만약 작업자 수가 매우 많고 각자 스마트폰을 가지고 있다면 고려해볼 수 있습니다.

- **흐름**: 관리감독자의 태블릿에 **일회용 QR 코드**가 표시됩니다. 작업자들은 각자의 스마트폰으로 QR 코드를 스캔하여 열리는 웹페이지에서 로그인 후 서명합니다.
    
- **장점**: 여러 명이 동시에 서명할 수 있어 빠릅니다.
    
- **단점**:
    
    - 모든 작업자가 스마트폰을 소지하고 인터넷에 접속할 수 있어야 합니다.
        
    - 개발 복잡도가 훨씬 높습니다. (개인별 인증 처리 필요)
        

### **결론 및 추천**

**'방법 1: 단일 기기에서 순차 서명'** 방식이 현장 상황(태블릿 1대)과 개발 효율성을 고려했을 때 가장 **현실적이고 강력하게 추천**되는 방법입니다. 데이터베이스 구조를 위와 같이 변경하고, 제안된 UI 흐름에 따라 프론트엔드를 개발하면 요구사항을 완벽하게 만족시킬 수 있습니다.